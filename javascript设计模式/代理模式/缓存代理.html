<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<script>
		// 缓存代理可以为一些开销大的计算结果提供暂时的缓存，在下次运算时如果传入的参数跟上一次一致，那么可以直接返回前面储存的结果

		var factorial=function(){
			var a=1;

			for(var i=0;i<arguments.length;i++){
				  a=a*arguments[i];
			}

			return a;
		}



		var factorialCache=(function(){
			var cache={};
			return function(){
				var args=Array.prototype.join.call(arguments,",");

				if(cache[args]){
					return cache[args]; 
				}


				return cache[args]=factorial.apply(this,arguments);
			}

		})();




		console.log(factorialCache(1,2,3));
		console.log(factorialCache(1,2,3));
	</script>
</body>
</html>