<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<script src="publish-subscribe.js"></script>
	<script>
		//我们利用售楼处（发布者）与买家（订阅者）的关系，买家订阅某个楼盘信息，当有房时，售楼处会给订阅者发送相对应的消息




        //再定义一个installEvent，让所有的对象都能动态拥有发布订阅者模式


        var salesOffices = {};
		
		event.installEvent( salesOffices );

		salesOffices.listen( 'squareMeter88', fn1 = function( price ){ // 小明订阅消息
		 console.log( '价格= ' + price );
		});

		salesOffices.listen( 'squareMeter88', fn2 = function( price ){ // 小红订阅消息
		 console.log( '价格= ' + price );
		});
		salesOffices.remove( 'squareMeter88', fn1 ); // 删除小明的订阅
		salesOffices.trigger( 'squareMeter88', 2000000 ); // 输出：2000

	</script>
</body>
</html>